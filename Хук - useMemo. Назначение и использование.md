
*  Хук useMemo используется для оптимизации работы React приложения.

*  Страница официальной документации на тему  [хука useMemo](https://react.dev/reference/react/useMemo)

*  Он позволяет кэшировать (мемоизировать) результат выполнения вычисления между  ререндерами.

* [[Мемоизация]] - кэширование возвращаемых результатов

```
const cachedValue = useMemo(calculateValue, dependencies)
```

* на вход принимает 2 параметра:
    1. Функцию результат выполнения которой нужно мемоизировать (кэшировать) (calculateValue);
    2. Массив зависимостей, который будет определять те случаи когда будет необходимо  выполнить перезапуск функции, а не использовать значение вычисленное хуком useMemo 

* Вызов useMemo должен происходить на верхнем уровне компоненты для кэширования результатов между ре-рендерингами.

-----

**** Calculate value

* требования к calculateValue:
    1. Функция должна быть чистой (pure function);
    2.  Функция не должна принимать аргументов;
    3. Функция должна возвращать значение любого типа
    4. У функции передаваемой не должно быть аргументов

* Реакт вызывает функцию при первом рендеринге (initial render). И кэширует результат ее выполнения (вычисления).

* При последующем рендеринге (re-render) возвращает (использует) значение вычисленное при изначальном рендеринге - !при условии, что не произошли изменения в массиве зависимостей!.

* Если же изменения произошли, то хук вновь запускает вычисление функции (calculateValue), возвращает ее результат и сохраняет его для дальнейшего переиспользования.

------

**** Dependencies

* Массив зависимостей хранит в себе значения тех сущностей (пропсы, переменные, состояния), изменение которых будет запускать  вычисление функции переданной в useMemo  (calculateValue) 

-----

**** Return

* Хук возвращает результат вызова помещенной в него функции (calculateValue) при  первоначальном рендеринге.

* Если не изменились зависимости, то при последующих ре-рендерах использует вычисленное (мемоизированное) значение результата выполнения функции.

* Если изменились зависимости то перезапускает вычисления помещенной в него функции

-------

**** Важные нюансы

1. useMemo - hook, следовательно использовать его нужно на верхних уровня компонента и ни в коем  случае не  использовать внутри цикла или условия. (****Требуется дополнительное раскрытие темы ***)
2. (***Требуется дополнительное раскрытие темы ***)
3. (***Требуется дополнительное раскрытие темы ***)

-----

**** Сферы использования

1. Избегание повторных затратных вычислений (***Требуется дополнительное раскрытие темы ***).
2.  Избегание повторного рендера компонетов (***Требуется дополнительное раскрытие темы ***)
3.  Мемоизация зависимостей в другом Хуке (***Требуется дополнительное раскрытие темы ***)
4.  Мемоизация функции (***Требуется дополнительное раскрытие темы ***)